# Тестовое задание

### Оглавление
- [Описание](#описание)
- [Требования к заданию ](#требования-к-заданию)
- [Примечания](#примечания)
- [Запуск проекта](#запуск-проекта)

### Описание

Она принимает список номеров заказов в качестве аргумента и выполняет следующие действия:

1. Формирует строку order_numbers_str, содержащую номера заказов, разделенные запятыми.
2. Создает SQL-запрос, который выбирает товары с информацией о стеллаже, номере заказа, количестве, дополнительном стеллаже и названии товара. Товары сортируются по имени стеллажа.
3. Выполняет SQL-запрос и получает все строки результата.
4. Группирует товары по стеллажам в словаре products_by_shelves, где ключами являются имена стеллажей, а значениями - списки товаров.
5. Выводит товары по стеллажам в желаемом формате, сортируя их сначала по номеру заказа, а затем по названию товара. Если имеется дополнительный стеллаж, он также выводится.
6. Закрывает соединение с базой данных.

### Требования к заданию

1. Надо создать таблицы в бд (например postgres, mysql, или в любой другой БД установленной на вашем компьютере).

Таблицы бд должны быть правильно спроектированы - так, как будто они создаются для реального бекенда магазина (нужны примерно 4 таблицы только под данные нужные для вывода данной задачи).
Данные в таблицах не должны: дублироваться, не оптимальным образом потреблять дисковое пространство.
Нужно чтобы в будущем на этой схеме бд можно было легко реализовать другой функционал, например показ списка заказов содержащих товар с id=5, или показ всех товаров, содержащих в названии поисковую фразу.

Большинство кандидатов, решающих это тестовое задание, делают схему бд такой, чтобы задание было удобно решить, вместо того чтобы сделать схему бд правильной с точки зрения бекенда интернет-магазина.
Это самая распространенная ошибка при выполнении этого задания.

2. Сделать вручную insert into в эти таблицы, так чтобы там были такие данные, чтобы получилось в точности воспроизвести пример ниже.

3. Написать консольную программу. (например на go, или на другом языке который вы знаете)
На вход программе подаются номера заказов, для которых надо выдать товары по стеллажам.
Программа должна выполняться эффективным образом. Не нагружать попусту процессор, и не использовать больше чем нужно оперативной памяти.
При этом надо, чтобы программа работала эффективно, даже если в таблицах бд будет по 200 млн записей.

4. Прислать по whatsapp: текст вашей программы (ссылку на github!), схему таблиц бд, и скриншот записка программы из консоли для 10,11,14,15, чтобы мы убедились, что выдается то же самое, что и в программе go run main.go 10,11,14,15 ниже.


### Примечания

* Перед выполнением программы необходимо заменить значения host, database, user и password на соответствующие данные для подключения к вашей базе данных PostgreSQL.
* Предполагается, что требуемые таблицы уже созданы в базе данных и заполнены данными.

### Запуск проекта

1) Склонируйте репозиторий:
```commandline
https://github.com/isk-daniar/test_task_ip_borisova.git
```
##### 2) Создать виртуальное окружение

    python -m venv venv

##### 3) Активировать виртуальное окружение
    
Linux

    source venv/bin/activate
    
Windows

    ./venv/Scripts/activate

##### 5) Установляем библиотеки 

    pip install -r requirements.txt
3) Запустить:
```commandline
python main.py 10,11,14,15
```